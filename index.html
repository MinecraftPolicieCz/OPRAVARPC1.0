<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Opravář PC 1.0</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Courier New', Courier, monospace;
      background: #001c5a;
      color: #00ffea;
      overflow: hidden;
    }
    body {
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    .header {
      background: #002f91;
      padding: 16px 0 12px 0;
      text-align: center;
      font-size: 1.85em;
      font-weight: bold;
      text-shadow: 0 0 7px #00bfff, 0 0 18px #fff;
      border-bottom: 2.5px solid #00ffff99;
      letter-spacing: 1px;
      user-select: none;
    }
    .tasks-row {
      background: #002a6f;
      padding: 8px 0;
      display: flex;
      gap: 14px;
      justify-content: center;
      border-bottom: 2px solid #00bfff33;
      min-height: 42px;
    }
    .task-btn {
      padding: 5px 22px;
      border: 2px solid #0055b3;
      background: #001c5a;
      color: #00ffea;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1.1em;
      margin-right: 3px;
      box-shadow: 0 0 8px #00bfff33 inset;
      transition: 0.13s;
    }
    .task-btn.active {
      background: #00bfff;
      color: #002349;
      border-color: #00ffff;
      font-weight: bold;
      text-shadow: 0 0 6px #fff;
    }
    .task-btn.done {
      color: #66ff99;
      border-color: #00c97b;
      background: #003c1c;
      font-weight: bold;
    }
    .main-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding-top: 30px;
    }
    .task-desc {
      background: #001040;
      color: #9ffcff;
      border: 2px solid #0055b3;
      border-radius: 7px;
      width: 80vw;
      max-width: 680px;
      min-height: 70px;
      margin-bottom: 18px;
      font-size: 1.19em;
      padding: 18px 18px 12px 18px;
      box-shadow: 0 0 15px #00d0ff33 inset;
      letter-spacing: 0.5px;
    }
    .task-status {
      color: #ffd900;
      font-size: 1em;
      font-weight: bold;
      margin-bottom: 4px;
      margin-left: 4px;
      text-shadow: 0 0 8px #fff6,0 0 2px #00bfff;
    }
    .console-outer {
      width: 80vw;
      max-width: 680px;
      background: #000a2e;
      margin: 0 auto 0 auto;
      border-radius: 6px;
      box-shadow: 0 2px 12px #00bfff55;
      border: 2.5px solid #00bfff;
      margin-bottom: 20px;
      margin-top: 13px;
      display: none;
      flex-direction: column;
      animation: flicker 1s infinite alternate;
    }
    @keyframes flicker {
      from { box-shadow: 0 2px 12px #00bfff55,0 0 5px #00c0ff33 inset;}
      to   { box-shadow: 0 2px 20px #00eaff99,0 0 17px #00c0ff33 inset;}
    }
    .console-inner {
      padding: 18px 13px 10px 13px;
      min-height: 60px;
      font-size: 1.08em;
      white-space: pre-wrap;
      outline: none;
      color: #00ffea;
      font-family: 'Fira Mono', 'Consolas', 'Courier New', monospace;
      letter-spacing: 0.5px;
    }
    .input-row {
      display: flex;
      align-items: center;
      margin-top: 7px;
    }
    .prompt {
      color: #ffe800;
      font-weight: bold;
      margin-right: 9px;
      font-size: 1.04em;
      letter-spacing: 1px;
    }
    .console-input {
      background: none;
      border: none;
      color: #00ffea;
      font-family: inherit;
      font-size: 1.07em;
      outline: none;
      caret-color: #ffd900;
      flex: 1;
    }
    .footer {
      background: #002a6f;
      border-top: 2px solid #00bfff33;
      min-height: 36px;
      width: 100vw;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      font-size: 1em;
      color: #5efcff;
      letter-spacing: 2px;
      padding-right: 22px;
      padding-top: 2px;
      user-select: none;
    }
    /* Retro styl posuvníku hlasitosti */
    #volume-control {
      position: fixed;
      left: 20px;
      bottom: 29px;
      z-index: 50;
      display: flex;
      align-items: center;
      gap: 7px;
      background: #002a6f;
      border: 2px solid #00bfff;
      border-radius: 8px;
      padding: 5px 16px 5px 10px;
      box-shadow: 0 1px 4px #0094ff77;
      font-size: 1.15em;
    }
    #volume-slider {
      width: 96px;
      accent-color: #00ffea;
    }
    .volume-icon {
      width: 25px;
      height: 25px;
      fill: #00ffea;
      filter: drop-shadow(0 0 3px #00f8ff99);
    }
    @media (max-width:700px) {
      .task-desc, .console-outer {width: 96vw;max-width: unset;}
    }
  </style>
</head>
<body>
  <div class="header">OPRAVÁŘ PC 1.0</div>
  <div class="tasks-row" id="tasks-row"></div>
  <div class="main-area">
    <div class="task-status" id="task-status"></div>
    <div class="task-desc" id="task-desc"></div>
    <div class="console-outer" id="console-outer">
      <div class="console-inner" id="console"></div>
      <div class="input-row">
        <span class="prompt">C:\&gt;</span>
        <input class="console-input" id="input-field" autocomplete="off" spellcheck="false"/>
      </div>
    </div>
  </div>
  <div class="footer">www.minecraftpolicie.cz</div>
  <div id="volume-control">
    <svg class="volume-icon" viewBox="0 0 24 24"><path d="M3 10v4h4l5 5V5L7 10H3zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v2.06c.58.35 1 .98 1 1.74s-.42 1.39-1 1.74v2.06c1.48-.74 2.5-2.26 2.5-4.03z"></path></svg>
    <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1" />
  </div>
  <script>
    // DEMO ÚKOLY
    const tasks = [
      {
        id: "VIRUS",
        title: "Odstranit virus",
        desc: "Systém je infikován virem! Spusť příkaz <b>SCAN_VIRUS</b>.",
        command: "SCAN_VIRUS",
        state: "active",
      },
      {
        id: "RAM",
        title: "Diagnostika RAM",
        desc: "Počítač hlásí chybu paměti. Použij příkaz <b>TEST_RAM</b>.",
        command: "TEST_RAM",
        state: "waiting",
      },
      {
        id: "RECOVERY",
        title: "Obnovit smazaná data",
        desc: "Obnov smazané soubory pomocí příkazu <b>RECOVER_FILES</b>.",
        command: "RECOVER_FILES",
        state: "waiting",
      }
    ];
    let activeTaskIndex = 0;
    let commandBuffer = "";

    function renderTasksRow() {
      const row = document.getElementById('tasks-row');
      row.innerHTML = "";
      tasks.forEach((task, idx) => {
        const btn = document.createElement('button');
        btn.className = "task-btn" + (idx === activeTaskIndex ? " active" : "") + (task.state === "done" ? " done" : "");
        btn.textContent = task.title + (task.state === "done" ? " ✓" : "");
        btn.onclick = () => { switchToTask(idx); };
        row.appendChild(btn);
      });
    }
    function renderTaskDetails() {
      const task = tasks[activeTaskIndex];
      document.getElementById('task-desc').innerHTML = task.desc;
      document.getElementById('task-status').textContent =
        (task.state === "active" ? "Probíhá" : task.state === "done" ? "Splněno" : "Čeká na zahájení");
      // Konzole jen pokud aktivní úkol a není hotov
      document.getElementById('console-outer').style.display = (task.state === "active") ? "flex" : "none";
      if (task.state !== "active") {
        commandBuffer = "";
        document.getElementById('console').textContent = "";
        document.getElementById('input-field').value = "";
      }
    }
    function switchToTask(idx) {
      activeTaskIndex = idx;
      renderTasksRow();
      renderTaskDetails();
    }

    // Konzole
    document.getElementById('input-field').addEventListener('keydown', function(e){
      if (e.key === "Enter") {
        const val = this.value.trim();
        if (!val) return;
        commandBuffer += "\nC:\\> " + val;
        const task = tasks[activeTaskIndex];
        if (val.toUpperCase() === task.command) {
          commandBuffer += "\nOK: Úkol splněn!";
          task.state = "done";
          setTimeout(()=>{
            renderTasksRow();
            renderTaskDetails();
          }, 600);
        } else {
          commandBuffer += "\nChybný příkaz! Zkus to znovu.";
        }
        document.getElementById('console').textContent = commandBuffer.trim();
        this.value = "";
      }
    });

    // Hlasitost
    window.audioVolume = 1;
    document.getElementById('volume-slider').addEventListener('input', function(){
      window.audioVolume = parseFloat(this.value);
      // Až budeš mít hudbu: music.volume = window.audioVolume;
    });

    // INIT
    function init() {
      // První úkol aktivní, ostatní čekají
      tasks.forEach((t,i)=>t.state = (i===0 ? "active" : "waiting"));
      activeTaskIndex = 0;
      commandBuffer = "";
      document.getElementById('console').textContent = "";
      document.getElementById('input-field').value = "";
      renderTasksRow();
      renderTaskDetails();
    }
    window.onload = init;
  </script>
</body>
</html>